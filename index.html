<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Niko</title>
    <link rel="stylesheet" href="styling.css">
</head>
<body>
    <div onclick="letIn()" id="screen">
        <button>click to enter</a>
    </div>

    <main>
        <img src="/img/niko.png" alt="Niko" id="niko">
        <h1>niko</h1>
        <br>
        <button id="offering">make an offering</button>
    </main>

    <footer>
        <p>Content made by <a href="https://bye.omg.lol">Bye</a> | Design <del>stolen</del> borrowed from <a href="https://sus.omg.lol/">Vukky's</a> 
            <a href="https://sus.omg.lol/js/antiweb3.html">Anti-Web 3</a> page and based on <a href="https://oneshot-game.com">OneShot</a>.</p>
        <p>Sprites of Niko from OneShot.</p>
    </footer>

    <script>
        let letIn = () => {
            // delete the screen
            document.getElementById("screen").style.opacity = "0";
            setTimeout(() => {
                document.getElementById("screen").style.display = "none";
            }, 500);
        }

        let yawn = () => {
            old_face = document.getElementById("niko").src
            document.getElementById("niko").src = "/img/nikoyawn.png";
            setTimeout(() => {
                document.getElementById("niko").src = old_face;
            }, 1000);
        }

        setInterval(() => {
            yawn();
        }, 25600);

        // give all buttons an event listener for hover
        document.querySelectorAll('button').forEach(function(button) {
            button.addEventListener('mouseover', function() {
                audio = new Audio('/oshover.wav');
                audio.play();
            });
            button.addEventListener('click', function() {
                audio = new Audio('/ospling.wav');
                audio.play();
            });
        });

        offering_button = document.getElementById("offering");
        offering_button.addEventListener('click', function() {
            body = document.getElementsByTagName("main")[0];
            document.getElementById("niko").src = "/img/nikopancakes.png";
            
            offerMessage = document.createElement("div");
            offerMessage.innerHTML = `[ You are offering: ]<br>
            [ $30 for their plushie ]<br>
            [ all your possesions ]<br>
            [ $800 for a new roomba ]<br>
            [ 1,000,000 free pancakes ]<br>
            [ deletion of your Twitter and Reddit accounts ]<br>
            <br>[ Niko appriciates your offer ]<br>
            [ No take backs. ] `;

            body.appendChild(offerMessage);
        });

    </script>
</body>
</html>